# 성적관리프로그램.py
problem : 파일에서 데이터를 읽어와 성적 목록을 만들어 관리하는 성적 관리 프로그램
## 1. 프로그램 기능 개요
-	기존 전체 목록에 평균 점수를 추가한다. 이 때, 평균을 구하는 공식은 아래와 같다.
![image](https://user-images.githubusercontent.com/63652571/165659309-3305fc1d-2dc6-4d1c-839f-1585cf84e46a.png)  
- 기존 전체 목록에 학점을 추가한다. 이 때, 학점 항목의 기준은 다음과 같다.
![image](https://user-images.githubusercontent.com/63652571/165659344-f2471049-48d1-437c-8460-b7dc1452bd3a.png) 
- 사용자는 아래와 같은 7개 명령어를 사용할 수 있으며, 명령어를 입력했을 때만 기능이 실행된다.   
**1. 전체 학생 정보 출력 기능** : 저장되어 있는 전체 목록을 아래와 같이 평균 점수를 기준으로 내림차순으로 출력한다.  
**2. 특정 학생 검색 기능** : 사용자가 검색하고자 하는 학생의 학번을 입력 받아 학번, 이름, 중간고사/기말고사 점수, 평균, 학점을 출력한다.  
**3. 점수 수정 기능** : 목록에 저장된 학생 중 1명의 중간고사(mid) 혹은 기말고사(final)의 점수를 수정한다.   
**4. 학생 추가 기능** : 현재 목록에 없는 새로운 학생의 학번, 이름, 중간고사 점수, 기말고사 점수를 입력 받아 전체 목록에 추가한다.  
**5. 학점 검색 기능** : 특정 학점을 입력 받아 그 학점에 해당하는 학생을 모두 출력한다.  
**6. 특정 학생 삭제 기능** : 삭제하고자 하는 학생의 학번을 입력 받은 후, 학생이 목록에 있는 경우 삭제한다.  
**7. 종료 기능** : 현재까지 편집한 내용의 저장 여부를 묻고, 저장을 선택(yes 입력)할 경우 파일명을 입력 받아서 저장하도록 한다.   
-	명시된 7가지 명령어 외에 명령어가 입력될 경우 무시하고 다시 명령어 입력을 대기한다.  
  이 때 사용되는 구상 가능한 구조 차트(structure chart)는 아래와 같이 표현될 수 있다.
    
![image](https://user-images.githubusercontent.com/63652571/165659562-0322af75-b84a-46f9-bff0-a89e5754f143.png)  

## 2. 알고리즘
![image](https://user-images.githubusercontent.com/63652571/165659574-e0920c3c-948e-4195-a1da-315d2ca37789.png)  

## 3. 프로그램 구조 및 설명 
### 3-1. 전체 학생 정보 출력 기능
- show 입력 시, show 함수가 호출된다.
   - 저장되어 있는 전체 목록을 평균 점수를 기준으로 내림차순으로 출력한다.
- 매개 변수는 학생 정보를 사용한다.
② 평균과 학점 구하는 함수 中 평균
    - 학점과 평균을 구하는 함수 avg_grd를 호출한다.
    - 평균 점수는 소수점 이하 첫째 자리까지만 표시한다.
    - 중간고사와 기말고사 점수를 합한 값을 2로 나누어 평균을 구한 뒤 avg 변수에 저장한다.
③ 평균과 학점 구하는 함수 中 학점 구하기
- 학점과 평균을 구하는 함수 avg_grd를 호출한다.
- 매개변수는 중간고사와 기말고사 점수 2개를 사용한다.
- 학점 항목의 기준에 따라 if문을 사용하여 학생의 중간/기말고사 평균 점수가 특정 구간
에 해당하면 그 구간에 해당하는 학점을 부여받도록 한다.
- 학점을 반환한다. *이때 if와 else를 사용하고 elif는 사용하지 않았다.*  
### 3-2. 특정 학생 검색 기능
- search 입력 시, search_f 함수가 호출된다.
  - 검색하고자 하는 학생의 학번을 입력받는다.
  - ‘if 학번 in 학생 목록’으로 학생 목록에 입력한 학번이 있는가의 여부를 따진다. 
  - 만약 입력한 학번이 학생 목록에 존재한다면 해당 학생 정보를 보여준다.
  - 만약 입력한 학번이 학생 목록에 존재하지 않는다면 ‘NO SUCH PERSON’이라는 에러 메시지를 띄워 해당 학생이 목록에 없음을 알려준다.
### 3-3. 점수 수정 기능
- changescore 입력 시, changescore_f 함수가 호출된다.
  - 매개변수는 학생 정보를 사용한다.
- 점수를 수정한다.
  - 점수를 수정하고자 하는 학생의 학번을 입력받는다.
  - 수정하고자 하는 학번이 학번 목록에 있다면 중간/기말고사 점수를 따로 입력받는다.
  - 중간/기말고사 점수가 모두 0~100 사이의 값이어야만 점수가 수정된다.
- add 입력 시, add_f 함수가 호출된다.
- 매개변수는 학생 정보를 사용한다.
   ② 새로운 학생을 추가한다.
- 학번을 입력해서 전체 학생 정보에 해당하는 학번을 가진 학생이 없으면 이름, 중간/
기말고사 점수를 입력 받는다.
- if문을 활용하여 중간/기말 고사 점수가 0~100점 사이인지 체크하고 0~100점 사이가
 아니라면 점수를 다시 확인하라는 오류 메시지를 출력한다.
- 새로 입력한 중간/기말고사 점수를 avg_grd 함수에 넣어서 평균을 구한다.
- 학생 정보에 새로 입력한 학생 정보 리스트를 추가한다.
③ 학생 목록에 기존에 있던 학생과 동일한 학번의 학생일 경우는 추가하지 않는다.
- ```python ALREADY EXISTS```라는 오류 메시지를 출력해서 이미 있는 학생임을 알려준다. 
### 3-4. 학생 추가 기능
- add 입력 시, add_f 함수가 호출된다.
  - 매개변수는 학생 정보를 사용한다.
- 새로운 학생을 추가한다.
  - 학번을 입력해서 전체 학생 정보에 해당하는 학번을 가진 학생이 없으면 이름, 중간/기말고사 점수를 입력 받는다.
  - if문을 활용하여 중간/기말 고사 점수가 0-100점 사이인지 체크하고 0-100점 사이가 아니라면 점수를 다시 확인하라는 오류 메시지를 출력한다.
  - 새로 입력한 중간/기말고사 점수를 avg_grd 함수에 넣어서 평균을 구한다.
  - 학생 정보에 새로 입력한 학생 정보 리스트를 추가한다.
- 학생 목록에 기존에 있던 학생과 동일한 학번의 학생일 경우는 추가하지 않는다.
  - ‘ALREADY EXISTS’라는 오류 메시지를 출력해서 이미 있는 학생임을 알려준다. 
### 3-5. 학점 검색 기능
- searchgrade 입력 시, searchgrade_f 함수가 호출된다.
  - 매개변수는 학생 정보를 사용한다.
  - 찾고자 하는 특정 grade(학점)을 입력받받는다.
- if문으로 입력한 특정 학점이 A~F 사이의 학점인지 여부를 살펴본다.
  - A~F 사이의 학점을 입력한 경우, 그 학점에 해당하는 학생들의 정보를 보여준다. 만약 그해당하는 학생이 아무도 없을 경우는 ‘NO RESULTS’라는 메시지를 출력해서 해당 학생이 없음을 보여준다.
  - A~F 사이의 학점이 아닌 경우, 학점을 다시 확인하라는 오류 메시지를 출력한다.

### 3-6. 특정 학생 삭제 기능
- remove 입력 시, remove_f 함수가 호출된다.
  - 매개변수는 학생 정보를 사용한다.
- if문으로 목록에 학생이 있는지 여부를 살펴본다.
  - 목록에 아무도 없을 경우, 리스트가 비었다는 메시지를 출력한다.
  - 목록에 학생이 있는 경우, 삭제하고자 하는 학생의 학번을 입력 받는다. 
- if문으로 학생 목록에 해당 학번을 가진 학생이 있는지 여부를 살펴본다.
  - 입력한 학번을 가진 학생이 학생 목록에 없을 경우, 그런 사람이 없다는 에러 메시지를출력한다.
  - 입력한 학번을 가진 학생이 학생 목록에 있을 경우, 입력한 학번의 학생을 리스트에서 삭제한다는 메시지를 출력한다.
### 3-7. 종료 기능
- quit 입력 시, quit_f 함수가 호출된다.
  - 매개변수는 학생 정보를 사용한다.
- 현재까지 편집한 내용의 저장 여부를 파악한다.
  - yes로 저장을 선택한 경우, 저장할 파일명을 입력 받아 평균을 기준으로 내림차순으로 저장한다. 그리고 나서 파일을 읽기모드로 불러온 뒤 학생 정보를 출력한다.
  - no로 저장을 선택하지 않은 경우는 저장하지 않는다.

### 3-8. 메인 함수
- 전체 학생 정보를 f로 불러오고 lines에 한 줄 씩 읽어온다. 
- 반복문 속에서 split을 이용하여 띄어쓰기를 기준으로 문장을 분할하여 리스트로 저장한다.
- 성과 이름이 띄어쓰기로 구분된 학생 이름을 join으로 붙이고, 나머지 중간/기말 점수와 평균, 학점을 학생 정보에 저장한다.
- 7가지 명령어 중 하나를 입력하면 해당 함수를 호출해서 출력해준다. 
- .py와 .txt 2개가 들어오면 파일이 있는지 확인 후 메인함수를 불러온다. 만약 파일이 없다면 파일명을 확인하라는 메시지를 출력하고 2개가 아니면 메인 함수를 실행한다.


## 4. 프로그램 실행 방법 및 예제 
### 4-1. 프로그램 실행 -> 전체 목록이 평균 점수 기준으로 내림차순 정렬되어 출력된다.
![image](https://user-images.githubusercontent.com/63652571/165661120-9e579fd4-71c1-4c02-a4f9-7b89853142f5.png)  
### 4-2. 7개 명령어 이외의 잘못된 명령어 입력 시, 명령어를 확인하라는 메시지가 나온다.
![image](https://user-images.githubusercontent.com/63652571/165661153-d8d07ccc-3ab6-45e3-8e03-1b68269a03aa.png)  
## 4-3. show (전체 학생 정보 출력)
show 입력 시, 저장되어 있는 전체 목록을 아래와 같이 평균 점수를 기준으로 내림차순으로 출력한다. 평균 점수는 소수점 이하 첫째 자리까지만 표시한다.  
![image](https://user-images.githubusercontent.com/63652571/165661177-06296c28-defc-4a8e-8b49-ce99b878f952.png)  
### 4-4. search(특정 학생 검색) 
- search 입력 시, 아래와 같이 검색하고자 하는 학생의 학번을 요구해 입력 받아 학번, 이름, 중간고사 점수, 기말고사 점수, 평균, 학점을 출력한다. 
- 예외처리: 찾고자 하는 학생이 목록에 없는 경우에는 ```python NO SUCH PERSON.``` 이라는 에러 메시지를 출력
![image](https://user-images.githubusercontent.com/63652571/165661243-3cc16406-6fdd-447d-8199-684c5422ec8b.png)
### 4-5. changescore (점수 수정)
- 목록에 저장된 학생 중 1명의 중간고사(mid) 혹은 기말고사(final)의 점수를 수정한다. 
- changescore 입력 시, 수정하고자 하는 학생의 학번, 수정하고자 하는 점수가 중간고사인지 기말고사인지와 수정하고자 하는 점수를 순서대로 입력받아 해당 학생의 점수를 수정한다. 
  - 점수가 바뀜에 따라 Grade도 다시 계산하여 수정한다. 
  - 예외처리: 학번이 목록에 없는 경우에는 ```python “NO SUCH PERSON.”```이라는 에러 메시지를 출력. “mid” 또는 “final” 외의 값이 입력된 경우에는 실행되지 않음  점수에 0~100 외의 값이 입력된 경우에는 실행되지 않음  
![image](https://user-images.githubusercontent.com/63652571/165661412-d2058637-adb1-4ac7-9cd1-3cead32d4d20.png)  
### 4-6. add (학생 추가) 
- add 입력 시, 아래와 같이 학생의 학번, 이름, 중간고사 점수, 기말고사 점수를 차례로 요구해 입력 받는다. 추가되면, 메시지 “Student added.”를아래 예제와 같이 출력한다. 
- Average와 Grade는 중간고사 점수와 기말고사 점수를 사용하여 계산하여 저장한다. 
- 학생 추가 후 show 명령어를 사용하면 평균을 기준으로 내림차순으로 출력된다. 
- 에러처리:  목록에 있는 학생의 학번을 입력 시, ```python ALREADY EXISTS.``` 이라는 에러 메시지 출력
- ![image](https://user-images.githubusercontent.com/63652571/165661499-7fd2c733-a756-4f2b-9b94-068325e4fef3.png)  
### 4-7. searchgrade (Grade 검색)
- searchgrade입력 시, 특정 grade를 입력 받아 그 grade에 해당하는 학생을 모두 출력한다.
- 예외처리: A, B, C, D, F 외의 값이 입력된 경우 실행되지 않음. 해당 grade 의 학생이 없는 경우 아래와 같이 메시지 ```pythob NO RESULTS.``` 출력


## 5. 토론
```python lambda```함수로 평균을 기준으로 목록의 순서를 내림차순 정렬하는 것을 ```python lambda```함수를 사용하여 해결할 수 있었다. ```python Lambda``` 함수를 사용하면 코드가 간단해질 뿐 아니라 메모리를 덜 사용하며 코드를 짤 수 있다. 원래 함수를 설명하면 그 함수 자체를 메모리에 할당하게 되는데, ```python lambda``` 함수를 쓰면 한 번만 사용하고 사라지기 때문에 메모리를 효율적으로 쓸 수 있는 것이다. 
 ```python Lambda는 sorted()```함수를 사용할 때 사용할 수 있다. 정렬하는 기준을 잡을 때 람다로 변형한 값을 만들고 이 값을 기준으로 한다. 
```python
sorted_stu = sorted(stu_dic.items(),key=lambda a:a[1][3], reverse=True)
```
위 코드는 과제를 진행하며 사용했던 코드다. 여기서 ```python sorted()```함수를 사용하고 키 값에서 람다를 사용했다. 그리고 내림차순으로 정렬했기 때문에 reverse=True로 했다.

```python avg_grd``` 함수에서 if문을 쓸 때 if와 else만 사용하고 elif는 쓰지 않았다. ```python if avg >= 80 and avg < 90```를 ```python elif avg>=80```으로 쓸 수 있을 것으로 보인다.


## 6. 결론
본 과제에서는 프로그램 작성 시 필요한 함수들을 작성/사용하는 방법과 파일을 읽어오고 쓰는 방법을 주로 학습하게 되었다. 메인 함수를 기준으로 7가지 함수를 사용했다. 코드를 작성하기 전에 알고리즘을 설계한 뒤, 주요 함수를 정의하고 큰 뼈대를 잡아야 함의 중요성을 느꼈다. 
